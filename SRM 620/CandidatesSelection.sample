-- Example 0
3
CC
AA
BB
3
1
2
0

Possible
-- Example 1
4
BAB
ABB
AAB
ABA
4
2
0
1
3

Possible
-- Example 2
4
BAB
ABB
AAB
ABA
4
0
1
3
2

Impossible
-- Example 3
2
AAA
ZZZ
2
1
0

Impossible
-- Example 4
2
ZZZ
AAA
2
0
1

Possible
-- Example 5
8
ZYYYYX
YXZYXY
ZZZZXX
XZXYYX
ZZZYYZ
ZZXXYZ
ZYZZXZ
XZYYZX
8
3
7
1
0
2
5
6
4

Possible
